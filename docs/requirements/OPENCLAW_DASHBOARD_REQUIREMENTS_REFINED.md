# OpenClaw å¤š Agent å¯è§†åŒ–çœ‹æ¿ - éœ€æ±‚è§„æ ¼è¯´æ˜ï¼ˆä¼˜åŒ–ç‰ˆï¼‰

**æ–‡æ¡£ç›®çš„**ï¼šä¾›åˆ†æ Agent ç†è§£å¹¶æ¨è¿›åç»­è®¾è®¡/å¼€å‘å·¥ä½œ  
**ç›®æ ‡è¯»è€…**ï¼šåˆ†æå¸ˆã€æ¶æ„å¸ˆã€å¼€å‘ Agent  
**ç‰ˆæœ¬**ï¼š1.0  
**æ—¥æœŸ**ï¼š2026-02-27  

---

## ä¸€ã€ç”¨æˆ·èƒŒæ™¯ä¸åŠ¨æœº

### 1.1 ç”¨æˆ·è§’è‰²

- **OpenClaw åˆå­¦è€…**ï¼šå¯¹ OpenClaw å†…éƒ¨æœºåˆ¶ä¸ç†Ÿæ‚‰
- **å¤š Agent å›¢é˜Ÿç®¡ç†è€…**ï¼šé€šè¿‡ OpenClaw æ­å»ºäº†è™šæ‹Ÿç ”å‘å›¢é˜Ÿï¼ˆé¡¹ç›®ç»ç† + åˆ†æå¸ˆ + æ¶æ„å¸ˆ + å¼€å‘/QAï¼‰
- **é—®é¢˜æ’æŸ¥è€…**ï¼šå½“ä»»åŠ¡å¤±è´¥ï¼ˆå¦‚ TPM/RPM è¶…é™ã€API 429ã€è¶…æ—¶ç­‰ï¼‰æ—¶ï¼Œéœ€è¦å¿«é€Ÿå®šä½æ ¹å› 

### 1.2 æ ¸å¿ƒç—›ç‚¹ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰

| ç—›ç‚¹ | æè¿° | å½±å“ |
|------|------|------|
| **æµç¨‹ç›²ç›’** | å¤š Agent å†…éƒ¨ä¸šåŠ¡æµç¨‹ä¸å¯è§ï¼Œä¸çŸ¥é“å½“å‰å¤„äºå“ªä¸ªé˜¶æ®µ | æ— æ³•åˆ¤æ–­è¿›åº¦ã€æ— æ³•é¢„ä¼°å®Œæˆæ—¶é—´ |
| **å¤±è´¥éš¾å®šä½** | è°ƒç”¨æ¨¡å‹æ—¶ TPM/RPM è¶…é™ã€429ã€è¶…æ—¶ç­‰é”™è¯¯å‘ç”Ÿåï¼Œä¸çŸ¥é“æ˜¯å“ªä¸ª Agentã€å“ªæ¬¡è°ƒç”¨ã€å“ªä¸ªæ¨¡å‹å‡ºé—®é¢˜ | æ’æŸ¥è€—æ—¶ã€éš¾ä»¥å¤ç° |
| **äº¤äº’ä¸å¯è§** | Agent ä¹‹é—´å¦‚ä½•æ´¾å‘ä»»åŠ¡ã€Agent ä¸å¤–éƒ¨å¤§æ¨¡å‹çš„è°ƒç”¨å…³ç³»ä¸é€æ˜ | æ— æ³•ç†è§£åä½œæ¨¡å¼ã€éš¾ä»¥ä¼˜åŒ– |
| **çŠ¶æ€ä¸é€æ˜** | å„ Agent å½“å‰åœ¨åšä»€ä¹ˆã€å¤„äºä»€ä¹ˆçŠ¶æ€ï¼ˆç©ºé—²/å·¥ä½œä¸­/å¼‚å¸¸ï¼‰ä¸å¯è§ | æ— æ³•å…¨å±€æŒæ§ï¼Œåƒã€Œè€æ¿çœ‹ä¸åˆ°æ‰‹ä¸‹å‘˜å·¥ã€ |

### 1.3 æœŸæœ›ä»·å€¼ï¼ˆä¸€å¥è¯ï¼‰

> **åƒè€æ¿çœ‹æ‰‹ä¸‹å‘˜å·¥ä¸€æ ·ï¼Œå…¨å±€æŒæ¡å¤š Agent ç¼–ç¨‹å›¢é˜Ÿçš„å·¥ä½œæµç¨‹ï¼›å‡ºé—®é¢˜æ—¶èƒ½å¿«é€Ÿå®šä½é—®é¢˜å‡ºç°åœ¨ä»€ä¹ˆåœ°æ–¹ã€‚**

---

## äºŒã€åŠŸèƒ½éœ€æ±‚ï¼ˆç»“æ„åŒ–ï¼‰

### 2.1 éœ€æ±‚å±‚çº§

```
L1: å…¨å±€æŒæ§
â”œâ”€â”€ L2.1: Agent é—´äº¤äº’å¯è§†åŒ–
â”œâ”€â”€ L2.2: Agent ä¸å¤–éƒ¨å¤§æ¨¡å‹äº¤äº’å¯è§†åŒ–
â”œâ”€â”€ L2.3: Agent è‡ªèº«çŠ¶æ€ä¸æ´»åŠ¨å¯è§†åŒ–
â””â”€â”€ L2.4: æµç¨‹ä¸èŠ‚ç‚¹çŠ¶æ€å¯è§†åŒ–
```

### 2.2 è¯¦ç»†åŠŸèƒ½éœ€æ±‚

#### 2.2.1 Agent é—´äº¤äº’å¯è§†åŒ–

| éœ€æ±‚ ID | æè¿° | éªŒæ”¶æ ‡å‡† |
|---------|------|----------|
| F-A2A-01 | å±•ç¤ºä¸» Agent ä¸å­ Agent çš„æ´¾å‘å…³ç³» | æ‹“æ‰‘å›¾/æµç¨‹å›¾å¯å±•ç¤º main â†’ analyst/architect/devops çš„è°ƒç”¨å…³ç³» |
| F-A2A-02 | å±•ç¤ºä»»åŠ¡æ´¾å‘äº‹ä»¶ | å¯çœ‹åˆ°ã€Œè°åœ¨ä½•æ—¶å‘è°æ´¾å‘äº†ä»€ä¹ˆä»»åŠ¡ã€ |
| F-A2A-03 | å±•ç¤ºä»»åŠ¡å®Œæˆ/å¤±è´¥å›ä¼  | å¯çœ‹åˆ°å­ Agent å®Œæˆä»»åŠ¡åå¦‚ä½•å›ä¼ ã€å¤±è´¥æ—¶é”™è¯¯ä¿¡æ¯ |
| F-A2A-04 | å±•ç¤ºå½“å‰æ´»è·ƒçš„ subagent run | å®æ—¶æ˜¾ç¤ºå“ªäº› Agent æ­£åœ¨æ‰§è¡Œä»»åŠ¡ã€ä»»åŠ¡æ‘˜è¦ |

**æ•°æ®æ¥æº**ï¼š
- `~/.openclaw/subagents/runs.json`ï¼šä»…å­˜**æ´»è·ƒ**è¿è¡Œï¼Œå®Œæˆåä¼šè¢« OpenClaw æ¸…ç©º
- session æ—¥å¿—ä¸­çš„ **`sessions_spawn`** å·¥å…·è°ƒç”¨ï¼ˆæ´¾å‘è¯·æ±‚ã€toolResult å« runId/childSessionKeyï¼‰åŠå®Œæˆå›ä¼ çš„ç”¨æˆ·æ¶ˆæ¯

---

#### 2.2.2 Agent ä¸å¤–éƒ¨å¤§æ¨¡å‹äº¤äº’å¯è§†åŒ–

| éœ€æ±‚ ID | æè¿° | éªŒæ”¶æ ‡å‡† |
|---------|------|----------|
| F-LLM-01 | å±•ç¤ºæ¯ä¸ª Agent é…ç½®çš„æ¨¡å‹ï¼ˆprimary + fallbacksï¼‰ | é™æ€é…ç½®å¯è§ |
| F-LLM-02 | å±•ç¤ºå®é™…è°ƒç”¨è®°å½• | æœ€è¿‘ N æ¬¡è°ƒç”¨ï¼šå“ªä¸ª Agentã€å“ªä¸ªæ¨¡å‹ã€ä½•æ—¶ã€token æ¶ˆè€— |
| F-LLM-03 | å±•ç¤ºæ¨¡å‹çŠ¶æ€ | æ­£å¸¸/é”™è¯¯(429ã€è¶…æ—¶ã€auth å¤±è´¥)/å†·å´/ç¦ç”¨ |
| F-LLM-04 | å±•ç¤ºæ¨¡å‹åˆ‡æ¢äº‹ä»¶ | ä½•æ—¶ä» primary åˆ‡æ¢åˆ° fallbackã€åˆ‡æ¢åŸå›  |
| F-LLM-05 | é›†ä¸­å±•ç¤º API å¼‚å¸¸ | æŒ‰ provider/model æ±‡æ€»æœ€è¿‘ 429ã€TPM è¶…é™ã€è¶…æ—¶ç­‰ |

**æ•°æ®æ¥æº**ï¼šsession æ—¥å¿—ä¸­çš„ `model_change`ã€`model-snapshot`ã€`message.stopReason`/`errorMessage`ã€`workspace-*/memory/model-failures.log`

---

#### 2.2.3 Agent è‡ªèº«çŠ¶æ€ä¸æ´»åŠ¨å¯è§†åŒ–

| éœ€æ±‚ ID | æè¿° | éªŒæ”¶æ ‡å‡† |
|---------|------|----------|
| F-AGENT-01 | å±•ç¤ºæ¯ä¸ª Agent çš„å®æ—¶çŠ¶æ€ | ç©ºé—²(idle) / å·¥ä½œä¸­(working) / å¼‚å¸¸(down)ï¼ŒçŠ¶æ€ç¯åŒºåˆ† |
| F-AGENT-02 | å±•ç¤ºå½“å‰ä»»åŠ¡æ‘˜è¦ | è‹¥æœ‰ subagent runï¼Œæ˜¾ç¤º task å‰ 50 å­— |
| F-AGENT-03 | ç‚¹å‡» Agent å¯æŸ¥çœ‹è¯¦æƒ… | æœ€è¿‘ä¼šè¯æ‘˜è¦ã€å·¥å…·è°ƒç”¨ã€é”™è¯¯è¯¦æƒ… |
| F-AGENT-04 | å±•ç¤º token æ¶ˆè€— | æ¯ä¸ª Agent çš„ input/output/total tokens |

**æ•°æ®æ¥æº**ï¼š`agents/<id>/sessions/sessions.json`ã€`agents/<id>/sessions/*.jsonl`

---

#### 2.2.4 æµç¨‹ä¸èŠ‚ç‚¹çŠ¶æ€å¯è§†åŒ–

| éœ€æ±‚ ID | æè¿° | éªŒæ”¶æ ‡å‡† |
|---------|------|----------|
| F-FLOW-01 | å±•ç¤ºé¡¹ç›®æµæ°´çº¿é˜¶æ®µ | å¦‚ï¼šPRD â†’ è®¾è®¡ â†’ å¼€å‘ â†’ QA â†’ éƒ¨ç½² |
| F-FLOW-02 | å±•ç¤ºå½“å‰æ‰€å¤„èŠ‚ç‚¹ | é«˜äº®å½“å‰é˜¶æ®µã€æ˜¾ç¤ºè¿›åº¦ |
| F-FLOW-03 | å±•ç¤ºå„é˜¶æ®µäº§å‡º | å¯ç‚¹å‡»æŸ¥çœ‹å„é˜¶æ®µäº§å‡ºç‰©ï¼ˆå¦‚ PRD æ–‡æ¡£ã€è®¾è®¡æ–‡æ¡£ï¼‰ |
| F-FLOW-04 | å±•ç¤ºæµç¨‹çŠ¶æ€ | å„é˜¶æ®µå®Œæˆ(âœ…)/è¿›è¡Œä¸­(ğŸ”„)/ç­‰å¾…(â³) |

**æ•°æ®æ¥æº**ï¼š`vrt-projects/projects/<id>/.staging/workflow_state.json`ã€é¡¹ç›®ç›®å½•ç»“æ„

---

### 2.3 éåŠŸèƒ½éœ€æ±‚

| éœ€æ±‚ ID | æè¿° | éªŒæ”¶æ ‡å‡† |
|---------|------|----------|
| NF-UI-01 | ç•Œé¢ç¾è§‚ã€æ¯”ä¾‹åè°ƒ | å¸ƒå±€åˆç†ã€è‰²å½©ç»Ÿä¸€ã€æ— é”™ä½ |
| NF-UI-02 | é€‚åˆ OpenClaw åˆå­¦è€… | ä¿¡æ¯å±‚æ¬¡æ¸…æ™°ã€æœ‰å¿…è¦çš„è¯´æ˜/å›¾ä¾‹ |
| NF-PORT-01 | å·¥ç¨‹å¯ç§»æ¤ | åŒäº‹é…ç½®å¥½è‡ªå·±çš„ OpenClaw åï¼Œå®‰è£…æœ¬å·¥å…·å³å¯ä½¿ç”¨ï¼Œæ— éœ€ä¿®æ”¹ OpenClaw |
| NF-PORT-02 | é›¶ä¾µå…¥ OpenClaw | ä»…è¯»å– OpenClaw å·²æœ‰æ•°æ®ï¼ˆé…ç½®æ–‡ä»¶ã€æ—¥å¿—ã€sessionï¼‰ï¼Œä¸ä¿®æ”¹ OpenClaw æºç æˆ–é…ç½® |
| NF-PORT-03 | é…ç½®å³ç”¨ | é€šè¿‡ç¯å¢ƒå˜é‡æˆ–é…ç½®æ–‡ä»¶æŒ‡å®š OpenClaw æ ¹è·¯å¾„ï¼ˆå¦‚ `~/.openclaw`ï¼‰ï¼Œè¯»å–åè‡ªåŠ¨é€‚é… |

---

## ä¸‰ã€æŠ€æœ¯çº¦æŸä¸æ•°æ®æº

### 3.1 ä¸å¯ä¿®æ”¹é¡¹

- **OpenClaw æœ¬ä½“**ï¼šä¸ä¿®æ”¹ OpenClaw æºç ã€ä¸è¦æ±‚ OpenClaw æä¾›æ–°æ¥å£
- **OpenClaw é…ç½®**ï¼šä¸è¦æ±‚ç”¨æˆ·ä¿®æ”¹ `openclaw.json` æ¥æ”¯æŒæœ¬å·¥å…·

### 3.2 å¯è¯»å–çš„æ•°æ®æºï¼ˆåªè¯»ï¼‰

| æ•°æ® | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| Agent é…ç½® | `openclaw.json` â†’ `agents.list` | idã€nameã€workspaceã€modelã€subagents.allowAgents |
| å­ä»£ç†è¿è¡Œ | `~/.openclaw/subagents/runs.json` | ä»…å­˜æ´»è·ƒè¿è¡Œï¼ˆå®Œæˆåæ¸…ç©ºï¼‰ï¼Œå« runIdã€childSessionKeyã€taskã€startedAtã€endedAtã€outcome |
| ä»»åŠ¡æ´¾å‘å†å² | ä¸» Agent session æ—¥å¿—ä¸­çš„ `sessions_spawn` è°ƒç”¨ | æ´¾å‘è¯·æ±‚ï¼ˆagentIdã€taskã€labelï¼‰ã€toolResultï¼ˆrunIdã€childSessionKeyï¼‰ã€å®Œæˆå›ä¼ ï¼ˆuser æ¶ˆæ¯å« `A subagent task "xxx" just completed`ï¼‰ |
| ä¼šè¯å…ƒæ•°æ® | `agents/<id>/sessions/sessions.json` | sessionIdã€updatedAtã€modelã€inputTokensã€outputTokensã€totalTokens |
| ä¼šè¯å†…å®¹ | `agents/<id>/sessions/*.jsonl` | æ¶ˆæ¯ã€å·¥å…·è°ƒç”¨ã€model_changeã€model-snapshotã€errorMessageã€stopReason |
| å·¥ä½œæµçŠ¶æ€ | `projects/<id>/.staging/workflow_state.json` | artifactsã€statusã€creatorï¼ˆè‹¥å­˜åœ¨ï¼‰ |
| API å¼‚å¸¸ | `workspace-*/memory/model-failures.log` | é™çº§ã€429 ç­‰è®°å½•ï¼ˆè‹¥å­˜åœ¨ï¼‰ |
| ä»»åŠ¡å†å² | `~/.openclaw/dashboard/task_history.json` | Dashboard è‡ªç»´æŠ¤çš„æŒä¹…åŒ–å†å²ï¼ˆruns.json æ¸…ç©ºåä»å¯å±•ç¤ºå·²å®Œæˆä»»åŠ¡ï¼‰ |

### 3.3 å½“å‰ç”¨æˆ· Agent å›¢é˜Ÿé…ç½®ï¼ˆå‚è€ƒï¼‰

```
main (è€ K - é¡¹ç›®ç»ç†)
â”œâ”€â”€ workspace: /home/ubuntu/.openclaw/workspace-main
â”œâ”€â”€ model: zhipu/glm-4.5 (fallbacks: glm-4.7, glm-5)
â””â”€â”€ subagents: [analyst-agent, architect-agent, devops-agent]

analyst-agent (åˆ†æå¸ˆ)
â”œâ”€â”€ workspace: /home/ubuntu/.openclaw/workspace-analyst
â””â”€â”€ model: zhipu/glm-5 (fallbacks: glm-4.7, glm-4.5)

architect-agent (æ¶æ„å¸ˆ)
â”œâ”€â”€ workspace: /home/ubuntu/.openclaw/workspace-architect
â””â”€â”€ model: zhipu/glm-5 (fallbacks: glm-4.7, glm-4.5)

devops-agent (DevOps - å¼€å‘ & QA)
â”œâ”€â”€ workspace: /home/ubuntu/.openclaw/workspace-devops
â””â”€â”€ model: zhipu/glm-5 (fallbacks: glm-4.7)
```

---

## å››ã€æŠ€æœ¯é€‰å‹å»ºè®®ï¼ˆä¾›åˆ†æ Agent å‚è€ƒï¼‰

### 4.1 éœ€å†³ç­–çš„é—®é¢˜

1. **å‰ç«¯æŠ€æœ¯æ ˆ**ï¼šVue/React/Svelteï¼Ÿå›¾è¡¨åº“ï¼ˆD3/ECharts/Cytoscape.jsï¼‰ï¼Ÿ
2. **åç«¯/æ•°æ®å±‚**ï¼šçº¯é™æ€è¯»å– JSON æ–‡ä»¶ï¼Ÿè¿˜æ˜¯éœ€è¦æœ¬åœ° API æœåŠ¡èšåˆæ•°æ®ï¼Ÿ
3. **å®æ—¶æ›´æ–°**ï¼šè½®è¯¢ vs æ–‡ä»¶ç›‘å¬ vs WebSocketï¼Ÿ
4. **éƒ¨ç½²å½¢æ€**ï¼šElectron æ¡Œé¢åº”ç”¨ï¼ŸWeb åº”ç”¨ + æœ¬åœ°ä»£ç†ï¼ŸVS Code æ’ä»¶ï¼Ÿ

### 4.2 å·²æœ‰å‚è€ƒ

- ç°æœ‰é¡¹ç›®è·¯å¾„ï¼š`/home/ubuntu/vrt-projects/projects/openclaw-agent-dashboard/`
- å·²æœ‰åˆ†ææ–‡æ¡£ï¼š`docs/analysis/collaboration-model-status-analysis.md`
- å·²æœ‰ PRDï¼š`/home/ubuntu/openclaw-agent-dashboard-PRD.md`
- å·²æœ‰è®¾è®¡ç¨¿ï¼š`/home/ubuntu/openclaw-agent-dashboard-design.md`

---

## äº”ã€åˆ†æ Agent è¡ŒåŠ¨æŒ‡å—

### 5.1 å»ºè®®çš„åˆ†æäº§å‡º

1. **éœ€æ±‚ç¡®è®¤**ï¼šå¯¹ç…§æœ¬æ–‡æ¡£ï¼Œç¡®è®¤æ˜¯å¦æœ‰é—æ¼æˆ–æ­§ä¹‰
2. **æ•°æ®æºå¯è¡Œæ€§**ï¼šé€é¡¹éªŒè¯ä¸Šè¿°æ•°æ®æºæ˜¯å¦è¶³å¤Ÿæ”¯æ’‘å„åŠŸèƒ½éœ€æ±‚
3. **æŠ€æœ¯é€‰å‹å»ºè®®**ï¼šç»™å‡ºå‰ç«¯/åç«¯/éƒ¨ç½²çš„æ¨èæ–¹æ¡ˆåŠç†ç”±
4. **å®ç°ä¼˜å…ˆçº§**ï¼šå»ºè®®çš„ Phase åˆ’åˆ†ï¼ˆå¦‚ Phase 1: å·¥ä½è§†å›¾+çŠ¶æ€ï¼ŒPhase 2: æ¨¡å‹äº¤äº’ï¼ŒPhase 3: æµç¨‹è§†å›¾ï¼‰
5. **é£é™©ä¸ä¾èµ–**ï¼šè¯†åˆ«å®ç°é£é™©ï¼ˆå¦‚ session æ—¥å¿—æ ¼å¼å˜åŒ–ã€æ–‡ä»¶é”ç­‰ï¼‰

### 5.2 å…³é”®é—®é¢˜éœ€å›ç­”

- ä»…é€šè¿‡è¯»å– JSON/JSONL æ–‡ä»¶ï¼Œèƒ½å¦å®ç°ã€Œå®æ—¶ã€æˆ–ã€Œå‡†å®æ—¶ã€çŠ¶æ€å±•ç¤ºï¼Ÿè‹¥ä¸èƒ½ï¼Œéœ€è¦ä»€ä¹ˆè¡¥å……æœºåˆ¶ï¼Ÿ
- ä¸åŒ OpenClaw ç‰ˆæœ¬çš„ç›®å½•ç»“æ„ã€æ—¥å¿—æ ¼å¼æ˜¯å¦ä¸€è‡´ï¼Ÿå¦‚ä½•åšå…¼å®¹ï¼Ÿ
- å¤šé¡¹ç›®/å¤š workspace åœºæ™¯ä¸‹ï¼Œå¦‚ä½•ç»„ç»‡å±•ç¤ºï¼Ÿ

---

## å…­ã€æœ¯è¯­è¡¨

| æœ¯è¯­ | å®šä¹‰ |
|------|------|
| Agent | OpenClaw ä¸­çš„æ™ºèƒ½ä½“ï¼Œå¦‚ mainã€analyst-agentã€architect-agentã€devops-agent |
| Subagent run | ä¸» Agent æ´¾å‘ç»™å­ Agent çš„ä¸€æ¬¡ä»»åŠ¡æ‰§è¡Œè®°å½• |
| Session | Agent çš„ä¸€æ¬¡å¯¹è¯ä¼šè¯ï¼Œå¯¹åº”ä¸€ä¸ª .jsonl æ–‡ä»¶ |
| TPM | Tokens Per Minuteï¼Œæ¯åˆ†é’Ÿ token é™åˆ¶ |
| RPM | Requests Per Minuteï¼Œæ¯åˆ†é’Ÿè¯·æ±‚é™åˆ¶ |
| Primary/Fallback | ä¸»æ¨¡å‹ä¸å¤‡ç”¨æ¨¡å‹ï¼Œå½“ä¸»æ¨¡å‹å¤±è´¥æ—¶åˆ‡æ¢ |

---

**æ–‡æ¡£ç»“æŸã€‚è¯·åˆ†æ Agent åŸºäºæœ¬æ–‡æ¡£è¿›è¡Œéœ€æ±‚ç¡®è®¤ã€æŠ€æœ¯é€‰å‹ä¸æ¶æ„è®¾è®¡ã€‚**
